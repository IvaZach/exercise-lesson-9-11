const e=document.querySelector(".js-guard"),t=document.querySelector(".js-list");let n=1,o=new IntersectionObserver((function(o,c){console.log(o),o.forEach((o=>{o.isIntersecting&&(n+=1,s(n).then((n=>{t.insertAdjacentHTML("beforeend",r(n.results)),n.page===n.total_pages&&c.unobserve(e)})).catch((e=>console.log(e))))}))}),{root:null,rootMargin:"300px",threshold:1});function r(e){return e.map((({poster_path:e,title:t})=>`<li>\n    <img src="https://image.tmdb.org/t/p/w400${e}" alt="${t}">\n    <h2>${t}</h2>\n</li>`)).join("")}function s(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=ad597f58480ee2b54bd116c59b3fba0a&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}s().then((n=>{t.insertAdjacentHTML("beforeend",r(n.results)),o.observe(e)})).catch((e=>console.log(e)));
//# sourceMappingURL=task-16.34b74732.js.map
