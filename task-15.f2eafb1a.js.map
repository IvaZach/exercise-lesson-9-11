{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,cAChCC,EAAOF,SAASC,cAAc,YACpCF,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAIC,iBAEJ,IAAwBC,EAAAF,EAAIG,cAAcC,SAAlCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,MAMjB,SAAoBC,EAAMD,GACxB,IAAME,EAAW,+BAEXC,EAAS,IAAIC,gBAAgB,CACjCC,IAFc,iCAGdC,EAAGL,EACHD,KAAMA,EACNO,KAAM,OAGR,OAAOC,MACL,GAA6BC,OAA1BP,EAAS,mBAAwBO,OAAPN,IAC7BO,MAAK,SAACC,GACN,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,M,KAtBdC,CAAWjB,EAAMkB,MAAOjB,EAAKiB,OAC1BP,MAAK,SAACQ,G,OAAU1B,EAAK2B,UAAyBD,EAAKE,SAASC,YA2B5DC,KACC,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EACJG,IACEC,EAASF,EAATE,UAASC,EAAAH,EACTI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MAEjB,uBACkBtB,OAAdsB,EAAK,WACZtB,OADqBqB,EAAK,eAEzBrB,OADDqB,EAAK,kBAEJrB,OADAe,EAAK,mBACKf,OAAVkB,EAAU,e,IAGfK,KAAK,G,IAxCLC,OAAM,SAACC,G,OAAQC,QAAQC,IAAIF,E","sources":["src/js/task-15.js"],"sourcesContent":["const search = document.querySelector(\".js-search\");\nconst list = document.querySelector(\".js-list\");\nsearch.addEventListener(\"submit\", onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const { query, days } = evt.currentTarget.elements;\n  getWeather(query.value, days.value)\n    .then((data) => (list.innerHTML = createMarkup(data.forecast.forecastday)))\n    .catch((err) => console.log(err));\n}\n\nfunction getWeather(city, days) {\n  const BASE_URL = \"http://api.weatherapi.com/v1\";\n  const API_KEY = \"4db023447be443a5a4d80417232710\";\n  const params = new URLSearchParams({\n    key : API_KEY,\n    q: city,\n    days: days,\n    lang: 'en'\n  });\n\n  return fetch(\n    `${BASE_URL}/forecast.json?${params}`\n  ).then((resp) => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { text, icon },\n        },\n      }) => `<li>\n    <img src=\"${icon}\" alt=\"${text}\">\n    <p>${text}</p>\n    <h2>${date}</h2>\n    <h3>${avgtemp_c}</h3>\n</li>`\n    )\n    .join(\"\");\n}"],"names":["$013cc6651aa3713a$var$search","document","querySelector","$013cc6651aa3713a$var$list","addEventListener","evt","preventDefault","_elements","currentTarget","elements","query","days","city","BASE_URL","params","URLSearchParams","key","q","lang","fetch","concat","then","resp","ok","Error","statusText","json","$013cc6651aa3713a$var$getWeather","value","data","innerHTML","forecast","forecastday","map","param","date","_day","day","avgtemp_c","_condition","condition","text","icon","join","catch","err","console","log"],"version":3,"file":"task-15.f2eafb1a.js.map"}