{"mappings":"AAAA,MAAMA,EAAQC,SAASC,cAAc,aAC/BC,EAAYF,SAASC,cAAc,iBAEzCF,EAAMI,iBAAiB,SAEvB,WACI,IAAIC,EAAU,EAEd,IAAIF,EAAUG,UAAUC,SAASC,GAASA,EAAIC,YAAc,KAE5D,MAAMC,EAAW,IAAIP,EAAUG,UAAUK,KAAI,CAAEC,EAAGC,IA2B3C,IAAIC,SAAQ,CAACC,EAAKC,KACRC,KAAKC,SACP,GACXH,EAAI,MAEDC,EAAC,KAAI,MA9BZF,QAAQK,WAAWT,GAAUU,MAAMC,IACjCC,QAAQC,IAAIF,GACZA,EAAMd,SAAQ,CAACiB,EAAMX,KACnBY,YAAW,KACW,cAAhBD,EAAKE,SACPrB,GAAW,GAEbiB,QAAQC,IAAIC,GACZrB,EAAUG,SAASO,GAAGJ,YAAce,EAAKG,OAASH,EAAKI,OAEnDzB,EAAUG,SAASuB,OAAS,IAAMhB,GACpCY,YAAW,KACLpB,IAAYF,EAAUG,SAASuB,QAAWxB,EAG5CyB,MAAM,cAFNA,MAAM,SAEa,GAEpB,IAAI,GAEJ,IAAJjB,EAAS,GACZ,G","sources":["src/js/task-14.js"],"sourcesContent":["const start = document.querySelector(\".js-start\");\nconst container = document.querySelector(\".js-container\");\n\nstart.addEventListener(\"click\", onStart);\n\nfunction onStart() {\n    let counter = 0;\n  \n    [...container.children].forEach((box) => (box.textContent = \"\"));\n  \n    const promises = [...container.children].map(( _, i) => createPromise(i));\n  \n    Promise.allSettled(promises).then((items) => {\n      console.log(items);\n      items.forEach((item, i) => {\n        setTimeout(() => {\n          if (item.status === \"fulfilled\") {\n            counter += 1;\n          }\n          console.log(item);\n          container.children[i].textContent = item.value || item.reason;\n  \n          if (container.children.length - 1 === i) {\n            setTimeout(() => {\n              if (counter === container.children.length || !counter) {\n                alert(\"Winner\");\n              } else {\n                alert(\"Lost money\");\n              }\n            }, 500);\n          }\n        }, i * 1000);\n      });\n    });\n  }\n  \n  function createPromise() {\n    return new Promise((res, rej) => {\n      const random = Math.random();\n      if (random > 0.5) {\n        res(\"ðŸ¤‘\");\n      } else {\n        rej(\"ðŸ˜ˆ\");\n      }\n    });\n  }"],"names":["$f6a68f7735224188$var$start","document","querySelector","$f6a68f7735224188$var$container","addEventListener","counter","children","forEach","box","textContent","promises","map","_","i","Promise","res","rej","Math","random","allSettled","then","items","console","log","item","setTimeout","status","value","reason","length","alert"],"version":3,"file":"task-14.f3d2d048.js.map"}