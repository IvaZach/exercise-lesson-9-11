{"mappings":"AAKI,YAAaA,iBAAiBC,WAC9BC,QAAQC,IAAI,iCA8BOC,SAASC,iBAAiB,uBAElCC,SAAQC,IACjBA,EAAIC,IAAMD,EAAIE,QAAQD,GAAG,MA9B3BN,QAAQC,IAAI,oCAed,WACE,MAAMO,EAASN,SAASO,cAAc,UACtCD,EAAOF,IACL,0EACFE,EAAOE,UACL,kGACFF,EAAOG,YAAc,YAErBT,SAASU,KAAKC,YAAYL,E,CAtBLM,IASvB,SAASC,EAAcC,GACrBhB,QAAQC,IAAI,wBACZe,EAAIC,OAAOC,UAAUC,IAAI,S,CARRjB,SAASC,iBAAiB,iBAElCC,SAAQgB,IACjBA,EAAMC,iBAAiB,OAAQN,EAAe,CAAEO,MAAM,GAAO","sources":["src/js/task-05.js"],"sourcesContent":["/*\n * Библиотека lazysizes\n * - feature detection\n */\n\nif ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер поддерживает lazyload');\n    addSrcAttrToLazyImages();\n  } else {\n    console.log('Браузер НЕ поддерживает lazyload');\n    addLazySizesScript();\n  }\n  \n  const lazyImages = document.querySelectorAll('img[data-src]');\n  \n  lazyImages.forEach(image => {\n    image.addEventListener('load', onImageLoaded, { once: true });\n  });\n  \n  function onImageLoaded(evt) {\n    console.log('Картинка загрузилась');\n    evt.target.classList.add('appear');\n  }\n  \n  function addLazySizesScript() {\n    const script = document.createElement('script');\n    script.src =\n      'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\n    script.integrity =\n      'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\n    script.crossOrigin = 'anonymous';\n  \n    document.body.appendChild(script);\n  }\n  \n  function addSrcAttrToLazyImages() {\n    const lazyImages = document.querySelectorAll('img[loading=\"lazy\"]');\n  \n    lazyImages.forEach(img => {\n      img.src = img.dataset.src;\n    });\n  }"],"names":["HTMLImageElement","prototype","console","log","document","querySelectorAll","forEach","img","src","dataset","script","createElement","integrity","crossOrigin","body","appendChild","$fd77a1322bf3b66d$var$addLazySizesScript","$fd77a1322bf3b66d$var$onImageLoaded","evt","target","classList","add","image","addEventListener","once"],"version":3,"file":"task-05.36411319.js.map"}