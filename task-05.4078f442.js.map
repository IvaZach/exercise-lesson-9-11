{"mappings":"YAwBE,IACQA,EANR,SAASC,EAAcC,GACrBC,QAAQC,IAAI,wBACZF,EAAIG,OAAOC,UAAUC,IAAI,S,CAhBzB,YAAaC,iBAAiBC,WAC9BN,QAAQC,IAAI,iCA8BOM,SAASC,iBAAiB,uBAElCC,SAAQ,SAAAC,GACjBA,EAAIC,IAAMD,EAAIE,QAAQD,G,MA9BxBX,QAAQC,IAAI,qCAgBNJ,EAASU,SAASM,cAAc,WAC/BF,IACL,0EACFd,EAAOiB,UACL,kGACFjB,EAAOkB,YAAc,YAErBR,SAASS,KAAKC,YAAYpB,IAnBTU,SAASC,iBAAiB,iBAElCC,SAAQ,SAAAS,GACjBA,EAAMC,iBAAiB,OAAQrB,EAAe,CAAEsB,MAAM,G","sources":["src/js/task-05.js"],"sourcesContent":["/*\n * Библиотека lazysizes\n * - feature detection\n */\n\nif ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер поддерживает lazyload');\n    addSrcAttrToLazyImages();\n  } else {\n    console.log('Браузер НЕ поддерживает lazyload');\n    addLazySizesScript();\n  }\n  \n  const lazyImages = document.querySelectorAll('img[data-src]');\n  \n  lazyImages.forEach(image => {\n    image.addEventListener('load', onImageLoaded, { once: true });\n  });\n  \n  function onImageLoaded(evt) {\n    console.log('Картинка загрузилась');\n    evt.target.classList.add('appear');\n  }\n  \n  function addLazySizesScript() {\n    const script = document.createElement('script');\n    script.src =\n      'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\n    script.integrity =\n      'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\n    script.crossOrigin = 'anonymous';\n  \n    document.body.appendChild(script);\n  }\n  \n  function addSrcAttrToLazyImages() {\n    const lazyImages = document.querySelectorAll('img[loading=\"lazy\"]');\n  \n    lazyImages.forEach(img => {\n      img.src = img.dataset.src;\n    });\n  }"],"names":["script","$7e97b84771c67b5c$var$onImageLoaded","evt","console","log","target","classList","add","HTMLImageElement","prototype","document","querySelectorAll","forEach","img","src","dataset","createElement","integrity","crossOrigin","body","appendChild","image","addEventListener","once"],"version":3,"file":"task-05.4078f442.js.map"}